@model OXXO.Models.MenuUser
@{ Layout = "~/Views/Shared/_Layout2.cshtml"; }

<style>

    .sidenav {
        height: 100%;
        width: 210px;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #F9F9F9;
        overflow-x: hidden;
        padding-top: 20px;
        float: left;
        margin-bottom: 0px;
    }

        /* drop down */
        .sidenav a, .dropdown-btn {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            font-size: 20px;
            color: #000000;
            display: block;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            outline: none;
        }
            /* mouse encima */
            .sidenav a:hover, .dropdown-btn:hover {
                color: #FF8F4B;
            }

    .main {
        margin-left: 200px;
        font-size: 20px;
        padding: 0px 10px;
    }


    .active {
        background-color: #FCCC5B;
        color: black;
    }


    .dropdown-container {
        display: none;
        background-color: #FFF8E9;
        padding-left: 8px;
    }


    .fa-caret-down {
        float: right;
        padding-right: 8px;
    }

    .center {
        margin-left: auto;
        margin-right: auto;
        display: block;
    }
</style>

<div class="sidenav">
    <div>
        <img src="~/img/logo.png" class="logo" width="190" alt="Alternate Text" />
    </div>

    @foreach (var item in Model.Menus)
    {
        <button class="dropdown-btn">
            @item.MenuMain.NombreMenu
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            @foreach (var subMenu in item.SubMenus)
            {
                <a href="@Url.Action(subMenu.ActionName, subMenu.ControllerName)">@subMenu.Encabezado</a>
            }
        </div>

    }
    <div>
        <a class="menu list-group-item border-end-0 d-inline-block text-truncate" data-bs-parent="#sidebar" asp-area="" asp-controller="Login" asp-action="LogOut">Cerrar Sesion</a>
    </div>
</div>

<script>
    var dropdown = document.getElementsByClassName("dropdown-btn");
    var i;

    for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
                dropdownContent.style.display = "none";
            } else {
                dropdownContent.style.display = "block";
            }
        });
    }

</script>