@model OXXO.Models.Comercio


@{
    ViewData["Title"] = "Carga de documentos";
}
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h1>Alta</h1>
<hr />
<section class="container-fluid">
    @if (ViewBag.Alert != null) //Agregado por Miguel
    {
        <div id="alerta" class="container body-content">
            @Html.Raw(@ViewBag.Alert)
        </div>
    } @*/////*@
<div class="container-fluid">
    <form asp-controller="Alta" asp-action="Index">
        <div class="row">
            <div class="col-sm-12 col-md-12 col-xl-12">
                <div class="form-group">
                    <h1>Datos generales</h1>
                </div>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-sm-2 col-md-2 col-xl-2">
                <div class="form-group">
                    <div class="mb-3">
                        <label class="control-label">ID emisor</label>
                        <input id="IdEmisor" name="IdEmisor" class="form-control" disabled="disabled" />
                    </div>
                </div>
            </div>
            <hr />
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-6 col-xl-6">
                <div class="form-group">
                    <div class="mb-3">
                        <label class="control-label">Nombre comercial</label>
                        <input asp-for="NombreComercial" id="NombreComercial" name="NombreComercial" class="form-control" disabled="disabled" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-6 col-xl-6">
                <div class="form-group">
                    <div class="mb-3">
                        <label class="control-label">Razon social</label>
                        <input asp-for="RazonSocial" id="RazonSocial" name="RazonSocial" class="form-control" disabled="disabled" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-6 col-xl-6">
                <div class="form-group">
                    <div class="mb-3">
                        <label for="formFile" class="form-label">Documentos</label>
                        <input class="form-control" type="file" id="formFile">
                    </div>
                </div>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-sm-6 col-md-6 col-xl-6">
                <div class="form-group">
                    <div class="mb-3">
                        <div class="form-floating">
                            <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px"></textarea>
                            <label for="floatingTextarea2"></label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row col-sm-6 col-md-6 col-xl-6 justify-content-end">
            <div class="form-group">
                <div class="col-sm-2 col-md-2 col-xl-2">
                    <div class="form-group">
                        <div class="mb-3">
                            <input type="submit" value="Agregar" class="btn btn-outline-success" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 col-md-2 col-xl-2">
                    <div class="form-group">
                        <div class="mb-3">
                            <input type="submit" value="Eliminar" class="btn btn-outline-warning" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 col-md-2 col-xl-2">
                    <div class="form-group">
                        <div class="mb-3">
                            <a class="btn btn-outline-danger" asp-controller="Home" asp-action="Inicio">Salie</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</form>
</div>
</section>
@section Scripts {
    <script>
        document.getElementById("alerta").style.display = "none"; //Agregado por Miguel
    </script>

    <script type="text/javascript">
        $(function () {
            $("#IdGiroComercio").select();
            $("#GiroComercio").select();
            $("#IdBanco").select();
            $("#Bancos").select();
        });

        $(function () {
            $("#IdGiroComercio").change(function () {
                $.getJSON("/Alta/ListadoGiroComercial", { cid: $("#IdGiroComercio").val() }, function (e) {
                    var row = "";
                    $("#GiroComercio").empty();
                    row += '<option value="">Seleccione un giro comercial</option>';
                    $.each(e, function (i, v) {
                        row += "<option value=" + v.value + ">" + v.text + "</option>";
                    });
                    $("#GiroComercio").html(row);
                })
            });
            $("#IdBanco").change(function () {
                $.getJSON("/Alta/ListadoBancos", { cid: $("#IdBanco").val() }, function (e) {
                    var row = "";
                    $("#Bancos").empty();
                    row += '<option value="">Seleccione un banco</option>';
                    $.each(e, function (i, v) {
                        row += "<option value=" + v.value + ">" + v.text + "</option>";
                    });
                    $("#Bancos").html(row);
                })
            });

            document.getElementById("Persona").onchange = function () {
                document.getElementById("NombreCompleto").removeAttribute("disabled");
                document.getElementById("NombreComercial").setAttribute("disabled", "disabled");
                document.getElementById("RazonSocial").setAttribute("disabled", "disabled");
                document.getElementById("IdGiroComercio").setAttribute("disabled", "disabled");
                document.getElementById("Portal").setAttribute("disabled", "disabled");

            if (this.value == '0') {
                document.getElementById("NombreCompleto").setAttribute("disabled", "disabled");
                document.getElementById("NombreComercial").removeAttribute("disabled");
                document.getElementById("RazonSocial").removeAttribute("disabled");
                document.getElementById("IdGiroComercio").removeAttribute("disabled");
                document.getElementById("Portal").removeAttribute("disabled");
            }
            }
        });
    </script>

    <script>
        document.getElementById("alerta").style.display = "none"; //Agregado por Miguel
    </script>

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}